<script>
const model = {
    name: 'ButtonLamp',
    objects: [
        {
            name: 'button',
            class: 'Button',
            isActor: true,
            behavior: `
                [*] --> Waiting
                Waiting --> Waiting : /onButton();
                Waiting --> Waiting : /offButton();
            `,
        },
        {
            name: 'lamp',
            class: 'Lamp',
            behavior: `
                [*] --> Off
                On --> Off : offButton/turnOff();
                Off --> On : onButton/turnOn();
                On --> Off : after(10min)/turnOff();
            `,
        },
    ],
    connectorByName: {
        C1: {
            // the names of the objects connected by this connector
            ends: ["button", "lamp"],
            // the names of the objects as seen from each other (can be the same name as the object's names, or different)
            endNames: ["button", "lamp"],
            possibleMessages: {
                forward: ["onButton", "offButton"],
            },
        },
    },
    watchExpressions: {
        lampOn:        "IS_IN_STATE(lamp, lamp.On)",
    },
    LTLProperties: {
        lampTurnsOn:    "[] (|EP_CONTAINS(lamp, onButton)| -> (<>lampOn))",
    },
    settings: {
        display: {
            // these settings are described in the "display" menu of the user interface where they appear in the same order

            hideLinks: false,

            // structural diagram
            hideClasses: false,
            hideOperations: false,
            hideMethods: false,
            showPorts: false,
            showEndNames: false,

            // state diagram
            hideStateMachines: false,
            hideOuterSMBoxes: false,
            showExplicitSM: false,

            // history/trace interaction diagram
            hideStates: false,
            showPseudostateInvariants: false,
            hideSets: false,
            showTransitions: false,
        },
        semantics: {
            // these settings are described in the "semantics" menu of the user interface where they appear in the same order

            fireInitialTransitions: true,
            autoFireAfterChoice: true,
            autoReceiveDisabled: false,
            considerGuardsTrue: false,
            checkEvents: true,
            keepOneMessagePerTrigger: true,
            enableEventPools: true,
            matchFirst: true,
            symbolicValues: false,
            reactiveSystem: true,
        },
        interface: {
            hideEmptyHistory: false,
            disableInteractionSelection: false,
            disableModelSelection: false,
            disableObjectSelection: false,
            disableDoc: false,
            disableSettings: false,
            disableHistorySettings: false,
            disableReset: false,
            disableSwitchDiagram: false,
            onlyInteraction: false,
            hideInteraction: false,
            disableExports: false,
            hideHistory: false,
            disableEdit: false,
            historyType: "TCSVG sequence",
            interaction: undefined,
//            styleMode: "dark",
//            displayedObjects: [],
        },
        tools: {
            // uncomment to use a specific analysis tool (make sure to use the right URL)
//            defaultRemoteAnalysisToolURL: "ws://localhost:8090/obp2",
            // uncomment to use a specific remote engine (make sure to use the right URL)
//            defaultRemoteEngineURL: "ws://localhost:8090/SomeModel",
        },
    },
};
document.write(`
    <iframe width="100%" height="100%" src='http://172.24.2.1/AnimUML.html#${encodeURIComponent(JSON.stringify(model)).replace(/'/g, '%27')}'></iframe>
`);
</script>